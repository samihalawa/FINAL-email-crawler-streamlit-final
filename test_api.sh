#!/bin/bash
GREEN="[0;32m"; RED="[0;31m"; NC="[0m"; BASE_URL="http://localhost:8000"; test_endpoint() { echo -e "
${GREEN}Testing: $1${NC}"; eval "$2"; if [ $? -eq 0 ]; then echo -e "${GREEN}âœ“ Test passed${NC}"; else echo -e "${RED}âœ— Test failed${NC}"; fi; }
test_endpoint "Root endpoint" "curl -s -o /dev/null -w %{http_code} $BASE_URL/"; test_endpoint "Recent search terms" "curl -s $BASE_URL/recent-search-terms"; test_endpoint "Email templates" "curl -s $BASE_URL/email-templates"; test_endpoint "Email settings" "curl -s $BASE_URL/email-settings"; test_endpoint "Search settings" "curl -s $BASE_URL/search-settings"
test_endpoint "Settings" "curl -s $BASE_URL/settings"; test_endpoint "Analytics overview" "curl -s $BASE_URL/analytics/overview"; test_endpoint "Search term analytics" "curl -s $BASE_URL/analytics/search-terms"; test_endpoint "Email campaign analytics" "curl -s $BASE_URL/analytics/email-campaigns"
test_endpoint "Bulk search" "curl -s -X POST $BASE_URL/bulk-search -H \"Content-Type: application/json\" -d \"{\\"terms\\": [\\"software development\\"], \\"num_results\\": 2, \\"optimize_english\\": true}\""; test_endpoint "Search term optimization" "curl -s -X POST $BASE_URL/search-terms/optimize -H \"Content-Type: application/json\" -d \"{\\"terms\\": [\\"software development\\"]}\""; test_endpoint "Update general settings" "curl -s -X POST $BASE_URL/settings/general -H \"Content-Type: application/json\" -d \"{\\"max_results\\": 50, \\"language\\": \\"EN\\"}\""; test_endpoint "Create email settings" "curl -s -X POST $BASE_URL/settings/email -H \"Content-Type: application/json\" -d \"{\\"name\\": \\"Test SMTP\\", \\"email\\": \\"test@example.com\\", \\"provider\\": \\"smtp\\", \\"smtp_server\\": \\"smtp.example.com\\", \\"smtp_port\\": 587}\""; test_endpoint "Test settings" "curl -s $BASE_URL/test-settings"
